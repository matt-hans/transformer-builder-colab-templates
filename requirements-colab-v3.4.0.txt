# Transformer Builder Colab Template - Requirements
# ZERO INSTALLATION strategy to prevent numpy corruption
# Version: 3.4.0
# Last Updated: 2025-11-16

# ==============================================================================
# ARCHITECTURE: Two-Notebook Strategy (v3.4.0)
# ==============================================================================
#
# 1. template.ipynb (Tier 1 + Tier 2 tests)
#    - ZERO pip installs
#    - Uses only Colab pre-installed packages
#    - Fast, dependency-free validation
#
# 2. training.ipynb (Tier 3 training utilities)
#    - Fresh runtime with pytorch-lightning and optuna
#    - Separate environment prevents corruption
#    - Installs training dependencies safely
#
# ==============================================================================

# ==============================================================================
# TEMPLATE.IPYNB - NO INSTALLATION REQUIRED
# ==============================================================================
# Uses ONLY Colab pre-installed packages:
# - torch 2.6+
# - numpy 2.3.4
# - pandas, matplotlib, seaborn
# - scipy, scikit-learn
# - transformers (for baseline models in Tier 2)
#
# Tests included:
# - Tier 1: Shape validation, gradient flow, stability, initialization, memory, speed
# - Tier 2: Attention patterns, robustness testing
#
# ==============================================================================

# ==============================================================================
# TRAINING.IPYNB - AUTOMATIC INSTALLATION
# ==============================================================================
# Installs in fresh runtime:
pytorch-lightning>=2.4.0
optuna>=3.0.0
torchmetrics>=1.3.0

# Tests included:
# - Fine-tuning with synthetic data
# - Hyperparameter search (Optuna)
# - Benchmark comparison against baselines
#
# ==============================================================================

# ==============================================================================
# DEVELOPMENT DEPENDENCIES (Local testing only)
# ==============================================================================
# For running tests locally (not needed in Colab):
pytest>=7.4.0,<8.0.0
pytest-cov>=4.1.0,<5.0.0

# ==============================================================================
# VERSION STRATEGY NOTES
# ==============================================================================
# This file uses range pins (>=) instead of exact pins (==) because:
# - Training dependencies are installed fresh in each Colab session
# - Colab manages system packages (torch, numpy) - we cannot override
# - Range pins allow compatibility with Colab's evolving environment
#
# For exact reproducibility, use:
# - requirements.txt (local development with exact pins)
# - requirements-training.txt (training.ipynb with exact pins)
#
# Version deviations from original task spec are intentional:
# - torch: 2.6 → 2.9+ (Colab runtime updates)
# - optuna: 3.0 → 4.6+ (latest stable with bug fixes)
# - pytorch-lightning: 2.4 → 2.5+ (compatibility with torch 2.9)
#
# Intentionally omitted packages:
# - datasets: Not required - tests use synthetic data generation
# - huggingface-hub: Not required - models loaded from Gist, not Hub
# ==============================================================================
