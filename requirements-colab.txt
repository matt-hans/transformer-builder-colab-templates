# Transformer Builder Colab Template - Requirements
# MINIMAL dependencies to prevent numpy corruption
# Version: 3.3.0
# Last Updated: 2025-01-13

# ==============================================================================
# CRITICAL FIX (v3.3.0): Removed datasets, tokenizers, optuna, huggingface-hub
# These packages corrupt Colab's numpy 2.x through transitive dependencies
# See: BUG_REPORT_v3.2.0_numpy_corruption.md for full analysis
# ==============================================================================

# VERIFIED SAFE - Core utilities only
torchinfo>=1.8.0,<3.0.0    # Model architecture inspection

# Development tools (optional, safe)
pytest>=7.4.0,<8.0.0
pytest-cov>=4.1.0,<5.0.0

# ==============================================================================
# INSTALL MANUALLY IF NEEDED (to avoid numpy corruption during Cell 3):
#
# For HuggingFace datasets:
#   !pip install datasets --no-deps
#   !pip install pyarrow dill xxhash multiprocess  # Install deps separately
#
# For tokenizers:
#   !pip install tokenizers
#
# For hyperparameter optimization:
#   !pip install optuna --no-deps
#   !pip install alembic colorlog sqlalchemy  # Install deps separately
#
# For HuggingFace Hub:
#   !pip install huggingface-hub
# ==============================================================================

# ==============================================================================
# INSTALL SEPARATELY WITH --no-deps (to prevent numpy corruption):
# - pytorch-lightning>=2.4.0,<2.6.0 (see installation cell for manual install)
# - torchmetrics>=1.3.0,<2.0.0 (dependency of lightning)
# - lightning-utilities>=0.10.0 (dependency of lightning)
# ==============================================================================

# ==============================================================================
# COLAB PRE-INSTALLED (DO NOT REINSTALL):
# - numpy 2.3.4 (corrupts if reinstalled!)
# - torch 2.6-2.8
# - transformers 4.37+
# - pandas, matplotlib, seaborn, plotly
# - scikit-learn, scipy
# - tensorflow, jax
# - opencv, PIL
# - tqdm, ipywidgets, fsspec, pyyaml, packaging, typing-extensions
# ==============================================================================
